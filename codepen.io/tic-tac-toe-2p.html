<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Tic Tac Toe 2P</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
	<style>
		* {
			box-sizing: border-box;
		}

		body {
			color: #b6b5ca;
			font-family: 'Arial', sans-serif;
			margin: 0;
			text-align: center;
			background-color: #1a1a1a;
		}

		h1 {
			margin-top: 30px;
		}

		h5 {
			font-weight: 400;
			padding: 0 20px;
			margin-bottom: 20px;
		}

		.tic-tac-toe {
			font-family: 'Open Sans', sans-serif;
			height: 285px;
			width: 285px;
			margin: 30px auto;
			position: relative;
			display: grid;
			grid-template-columns: repeat(3, 1fr);
			grid-template-rows: repeat(3, 1fr);
			gap: 5px;
			background-color: #333;
			padding: 5px;
		}

		input[type="radio"] {
			display: none;
		}

		input[type="radio"]:checked + label {
			cursor: default;
			z-index: 10;
		}

		label {
			background-color: #78bec5;
			cursor: pointer;
			color: #fff;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 60px;
			position: relative;
			transition: background-color 0.3s;
		}

		label:hover {
			background-color: #3d4250;
		}

		label:after {
			font-family: "Font Awesome 6 Free";
			opacity: 0;
			transition: opacity 0.3s;
		}

		input[type="radio"].player-1:checked + label {
			background-color: #dc685a;
		}

		input[type="radio"].player-1:checked + label:after {
			content: "\2715";
			opacity: 1;
		}

		input[type="radio"].player-2:checked + label {
			background-color: #ecaf4f;
		}

		input[type="radio"].player-2:checked + label:after {
			content: "\25CB";
			opacity: 1;
		}

		.end {
			background: rgba(255, 255, 255, 0.95);
			border-radius: 8px;
			color: #3d4250;
			display: none;
			padding: 40px 20px;
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			text-align: center;
			z-index: 11;
			min-width: 250px;
		}

		.end h3 {
			font-size: 28px;
			font-weight: 300;
			margin: 0 0 20px 0;
		}

		.end a {
			background-color: #3d4250;
			border-radius: 4px;
			color: #fff;
			padding: 12px 30px;
			text-decoration: none;
			display: inline-block;
			transition: background-color 0.2s;
		}

		.end a:hover {
			background-color: #262934;
			cursor: pointer;
		}

		.game-container {
			position: relative;
			display: inline-block;
		}

		.current-player {
			margin: 20px 0;
			font-size: 18px;
		}
	</style>
</head>
<body>
	<h1>Tic Tac Toe - 2 Player</h1>
	
	<div class="current-player">
		Current Player: <span id="currentPlayer">1</span>
	</div>

	<div class="game-container">
		<form class="tic-tac-toe" id="gameBoard">
			<!-- Row 1 -->
			<input id="cell1" type="radio" name="row1col1" class="player-1">
			<label for="cell1"></label>

			<input id="cell2" type="radio" name="row1col2" class="player-1">
			<label for="cell2"></label>

			<input id="cell3" type="radio" name="row1col3" class="player-1">
			<label for="cell3"></label>

			<!-- Row 2 -->
			<input id="cell4" type="radio" name="row2col1" class="player-1">
			<label for="cell4"></label>

			<input id="cell5" type="radio" name="row2col2" class="player-1">
			<label for="cell5"></label>

			<input id="cell6" type="radio" name="row2col3" class="player-1">
			<label for="cell6"></label>

			<!-- Row 3 -->
			<input id="cell7" type="radio" name="row3col1" class="player-1">
			<label for="cell7"></label>

			<input id="cell8" type="radio" name="row3col2" class="player-1">
			<label for="cell8"></label>

			<input id="cell9" type="radio" name="row3col3" class="player-1">
			<label for="cell9"></label>
		</form>

		<div class="end" id="gameEnd">
			<h3 id="endMessage"></h3>
			<a href="">Restart</a>
		</div>
	</div>

	<h5>Note: This is a 2-player game. Players take turns clicking cells.</h5>

	<script>
		let currentPlayer = 1;
		let gameBoard = ['', '', '', '', '', '', '', '', ''];
		let gameActive = true;

		const cells = document.querySelectorAll('input[type="radio"]');
		const gameEnd = document.getElementById('gameEnd');
		const endMessage = document.getElementById('endMessage');
		const currentPlayerDisplay = document.getElementById('currentPlayer');

		const winningConditions = [
			[0, 1, 2],
			[3, 4, 5],
			[6, 7, 8],
			[0, 3, 6],
			[1, 4, 7],
			[2, 5, 8],
			[0, 4, 8],
			[2, 4, 6]
		];

		cells.forEach((cell, index) => {
			cell.addEventListener('change', (e) => {
				if (!gameActive) return;

				if (gameBoard[index] === '') {
					gameBoard[index] = currentPlayer;
					cell.classList.add(`player-${currentPlayer}`);

					checkGameState();

					currentPlayer = currentPlayer === 1 ? 2 : 1;
					currentPlayerDisplay.textContent = currentPlayer;
				}
			});
		});

		function checkGameState() {
			let gameWon = false;

			for (let i = 0; i < winningConditions.length; i++) {
				const [a, b, c] = winningConditions[i];
				if (gameBoard[a] !== '' && gameBoard[a] === gameBoard[b] && gameBoard[a] === gameBoard[c]) {
					gameWon = true;
					endMessage.textContent = `Player ${gameBoard[a]} wins!`;
					gameEnd.style.display = 'block';
					gameActive = false;
					return;
				}
			}

			if (gameBoard.every(cell => cell !== '')) {
				endMessage.textContent = "It's a tie!";
				gameEnd.style.display = 'block';
				gameActive = false;
			}
		}

		document.querySelector('.end a').addEventListener('click', (e) => {
			e.preventDefault();
			location.reload();
		});
	</script>
</body>
</html>
